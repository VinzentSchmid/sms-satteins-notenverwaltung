<div id="headlineContainer">
  <h2>CLASS {{ class?.name }}</h2>
  <p>Here you can see all class members and add/edit the points for the grade</p>
</div>

<div id="actionContainer">
  <button (click)="toggleSemester()" id="semesterSwitch"> {{ semesters[currentSemester]  }}</button>
  <div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" [(ngModel)]="isEditEnabled" id="flexSwitchCheckDefault">
    <label class="form-check-label" for="flexSwitchCheckDefault">Edit</label>
  </div>
</div>
<div class="contentContainer">
  <div class="actionContainer">
      <ng-select class="custom" [(ngModel)]="selectedSubject" (change)="onSubjectChange()">
        <ng-option *ngFor="let subject of subjects" [value]="subject.id">{{ subject.name }}</ng-option>
      </ng-select>
      <button [routerLink]="['/class', class?.id, selectedSubject, 'add-assignment']" id="addAssignment">Add Assignment</button>
    </div>
  <nav>
    <div class="assignmentTypes" *ngFor="let assignmentType of assignmentTypes | keyvalue">
      <button
        (click)="toggleAssignmentType(assignmentType.key)"
        [ngStyle]="{ 'text-decoration': currentAssignment.toString() === assignmentType.key.toString() ? 'underline' : 'none' }"

        >
        {{ assignmentType.value }}
      </button>
    </div>
  </nav>
  <div class="table">
    <div class="headerTable" >
      <div>Name</div>
      <div *ngFor="let assignment of assignments">{{ assignment.creationDate | date:'dd.MM.yy'}}</div>
    </div>
    <div class="contentTable" >
      <div class="studentColumn" *ngFor="let student of students">
        <div class="studentName">{{ student.name }}</div>
        <div  class="assignments" *ngFor="let assignment of assignments">
          <div class="noEditMode" *ngIf="!isEditEnabled; else editModeContent">
            <div>0</div>
          </div>
          <ng-template #editModeContent>
            <input type="number"   (keyup)="addPointsForStudentAndAssignment(student, assignment, input.valueAsNumber)" #input name="studentPoint" >
          </ng-template>
          / {{ assignment.reachablePoints }}

        </div>
      </div>
    </div>
  </div>

</div>


